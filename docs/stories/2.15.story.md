# Story 2.15: AI Questionnaire Real Estate Option & Sample Report Button Enhancement - Brownfield Addition

## Status
Ready for Review

## Story
**As a** potential user visiting the Reservoir MVP platform,
**I want** to see "Real Estate" as an option in the AI questionnaire industry questions and a functional "See Sample Report" button on the homepage,
**so that** I can properly identify my industry during the questionnaire and preview what the platform offers before starting the discovery process.

## Story Context

**Existing System Integration:**
- Integrates with: AI questionnaire system (`/lib/questionnaire/intelligent-ai.ts`)
- Technology: Next.js React components, TypeScript
- Follows pattern: Existing fallback question patterns and homepage button implementations
- Touch points: Homepage `/app/page.tsx`, AI service fallback questions, intelligent AI context handling

## Acceptance Criteria

**Functional Requirements:**

1. **Real Estate Industry Option**: "Real Estate" is added to all industry/business type question options in both the intelligent AI system and fallback question arrays
2. **Sample Report Button Functionality**: The "See Sample Report" button on the homepage navigates to a sample report page or modal with realistic demonstration content
3. **Consistent Implementation**: Both enhancements follow existing code patterns and maintain current user experience flow

**Integration Requirements:**

4. Existing AI questionnaire functionality continues to work unchanged with additional "Real Estate" option
5. New "Real Estate" option follows existing business type detection pattern in `updateContext()` method
6. Integration with homepage maintains current responsive design and accessibility standards

**Quality Requirements:**

7. Changes are covered by appropriate manual testing of questionnaire flow
8. No regression in existing homepage functionality verified
9. Sample report content is professional and representative of actual platform output

## Technical Notes

- **Integration Approach:** Add "Real Estate" to existing quickResponses arrays and updateContext business type detection logic
- **Existing Pattern Reference:** Follow current business type options in lines 255-256 of `intelligent-ai.ts` and homepage button pattern from lines 32-44 of `page.tsx`
- **Key Constraints:** Must maintain existing AI conversation flow and homepage responsive design

## Definition of Done

- [ ] Functional requirements met (Real Estate option and Sample Report button work)
- [ ] Integration requirements verified (existing questionnaire flow unchanged)
- [ ] Existing functionality regression tested (questionnaire and homepage work as before)
- [ ] Code follows existing patterns and standards
- [ ] Manual testing passes for both enhancements
- [ ] Sample report content is complete and professional

## Tasks / Subtasks

- [x] Add "Real Estate" option to AI questionnaire system (AC: 1, 4, 5)
  - [x] Update fallback questions in `intelligent-ai.ts` line 255 to include "Real Estate"
  - [x] Update fallback questions in `ai-service.ts` line 72 to include "Real Estate"
  - [x] Add "real estate" detection pattern to `updateContext()` method in `intelligent-ai.ts`
  - [x] Test questionnaire flow with Real Estate selection

- [x] Implement functional "See Sample Report" button (AC: 2, 6)
  - [x] Create sample report page/modal component following existing design patterns
  - [x] Add navigation logic to "See Sample Report" button in homepage (`page.tsx` line 40-44)
  - [x] Design sample report content that represents actual platform output
  - [x] Ensure responsive design matches existing homepage layout

- [x] Testing and validation (AC: 7, 8, 9)
  - [x] Test complete questionnaire flow including Real Estate option
  - [x] Verify existing business type options still work correctly
  - [x] Test homepage responsiveness with functional Sample Report button
  - [x] Validate sample report content quality and accuracy

## Minimal Risk Assessment

**Primary Risk:** Questionnaire AI logic disruption when adding new business type option
**Mitigation:** Follow exact pattern of existing business type detection in updateContext method
**Rollback:** Remove "Real Estate" from arrays and revert button href change

## Compatibility Verification

- [ ] No breaking changes to existing AI questionnaire APIs
- [ ] Homepage design patterns maintained for new button functionality
- [ ] Sample report implementation follows existing component architecture
- [ ] Performance impact is negligible (static content additions only)

## Dev Notes

### Current Implementation Context
[Source: Analysis of `/lib/questionnaire/intelligent-ai.ts` and `/app/page.tsx`]
- Questionnaire system uses both intelligent AI and fallback question arrays
- Business type detection happens in `updateContext()` method with pattern matching
- Homepage has existing button patterns for navigation and styling
- Current industry options: "E-commerce", "SaaS", "Consulting", "Local service"

### Technical Standards
- Follow existing TypeScript patterns in questionnaire services
- Maintain current responsive design system using Tailwind CSS classes
- Use existing button component patterns from `@/components/ui/button`
- Ensure sample report follows current card/layout design patterns

### Key Components Required
- Updated fallback question arrays in both AI service files
- Enhanced business type detection in `updateContext()` method
- Sample report page/component with demonstration content
- Updated homepage button with proper navigation logic

### Success Criteria
- Real Estate appears in questionnaire options and is properly detected
- Sample Report button leads to professional demonstration content
- No disruption to existing questionnaire or homepage functionality
- Implementation follows existing code patterns and conventions

### Dependencies
- No external dependencies required
- Uses existing Next.js routing and component structure
- Leverages current UI component library and design system

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-18 | 1.0 | Created brownfield story for Real Estate option and Sample Report button | Kevin (via brownfield-create-story task) |

## Dev Agent Record
### Agent Model Used
claude-sonnet-4-20250514 (James - Full Stack Developer Agent)

### Debug Log References
- Verified Real Estate option working via dev server logs showing business type detection
- Confirmed AI questionnaire flow continues properly with new option
- Sample report page compiles and renders correctly

### Completion Notes List
- Successfully added "Real Estate" to all questionnaire fallback arrays
- Implemented context detection for real estate, property, realtor keywords
- Created comprehensive sample report page with professional demo content
- Added navigation link to "See Sample Report" button on homepage
- All features tested and working as expected
- No breaking changes to existing functionality

### File List
- Modified: `/lib/questionnaire/intelligent-ai.ts` - Added Real Estate option and context detection
- Modified: `/lib/questionnaire/ai-service.ts` - Added Real Estate to fallback questions
- Modified: `/app/page.tsx` - Added navigation link to Sample Report button
- Created: `/app/sample-report/page.tsx` - New sample report page with demo content

## QA Results
_To be filled by QA agent_